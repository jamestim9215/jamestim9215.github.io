import{O as C,M as d,S as j,a as c,B as u,D as p,b as P,c as U,P as X,W as q,C as K,F as R,G as _,d as J,I as Q,V as S,T as g}from"./vendor.8c4c92f1.js";const Y=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}};Y();function Z(t,e){var r=new C,s=new d(new j(.4,36,36),new c({color:16777215,opacity:1,transparent:!0}));s.position.y=2.4;var o=new d(new u(.1,.1,.1),new c({color:3355443,side:p,opacity:1,transparent:!0}));o.position.x=-.15,o.position.y=2.5,o.position.z=.35;var n=new d(new u(.1,.1,.1),new c({color:3355443,side:p,opacity:1,transparent:!0}));n.position.x=.15,n.position.y=2.5,n.position.z=.35;var f=new d(new u(.2,.05,.1),new c({color:3355443,side:p,opacity:1,transparent:!0}));f.position.y=2.25,f.position.z=.35;var O=new d(new u(.8,1,.5),new c({color:16777215,side:p,opacity:1,transparent:!0}));O.position.y=1.5;var v=new d(new u(.3,.3,1),new c({color:13421772,side:p,opacity:1,transparent:!0}));v.position.x=.6,v.position.y=1.8,v.position.z=.3;var z=new d(new u(.3,.3,1),new c({color:13421772,side:p,opacity:1,transparent:!0}));z.position.x=-.6,z.position.y=1.8,z.position.z=.3;var I=new d(new u(.35,1,.35),new c({color:13421772,side:p,opacity:1,transparent:!0}));I.position.x=.2,I.position.y=.5;var D=new d(new u(.35,1,.35),new c({color:13421772,side:p,opacity:1,transparent:!0}));return D.position.x=-.2,D.position.y=.5,r.add(s,o,n,f,O,v,I,z,D),r.position.set(e.position.x,e.position.y,e.position.z),r.rotation.set(e.rotation.x,e.rotation.y,e.rotation.z),r}function $(t){var e=new C,r=new P(16777215,1),s=new P(16777215,.3),o=new P(16777215,.2);r.position.set(6,8,10),s.position.set(-10,0,2),o.position.set(0,0,-10),e.add(r,s,o),t.add(e)}let w,a,m,F=new C,L=new C,i=-1;w=new U;a=new X(80,window.innerWidth/window.innerHeight,.1,1e3);m=new q({canvas:document.getElementById("room"),alpha:!1});m.setPixelRatio(window.devicePixelRatio);m.setSize(window.innerWidth,window.innerHeight);a.position.set(0,2,8);let B=6710886;w.background=new K(B);w.fog=new R(B,1,15);const A=new _(60,120,16711680,0);let ee=new d(new u(20,20,20),new c({color:6710886,side:p,opacity:1,transparent:!0})),M=new d(new J(60,60),new c({color:6710886,side:p,roughness:0,metalness:1,opacity:.9,transparent:!0}));M.rotation.x=-90*Math.PI/180;M.position.y=-.001;M.receiveShadow=!0;F.add(A);F.add(ee);F.add(M);w.add(F);let l=[{position:{x:0,y:0,z:0},rotation:{x:0,y:0,z:0}},{position:{x:5,y:0,z:.8},rotation:{x:0,y:-3.14/4,z:0}},{position:{x:-4,y:0,z:-3},rotation:{x:0,y:3.14/2,z:0}},{position:{x:-5,y:0,z:8},rotation:{x:0,y:3.14,z:0}},{position:{x:5,y:0,z:-8},rotation:{x:0,y:-3.14/4,z:0}}];for(let t=0;t<l.length;t++){let e=Z(w,l[t]);L.add(e)}w.add(L);$(w);const k=new Q(m,a,m.domElement);function y(t){let e=t,r=new S(Math.sin(e.rotation.y).toFixed(2)*4+e.position.x,a.position.y,Math.cos(e.rotation.y).toFixed(2)*4+e.position.z),s=new S(a.rotation.x,e.rotation.y,a.rotation.z);te(a.position,a.rotation,r,s)}for(let t in L.children){let e=L.children[t];e.addEventListener("click",r=>{r.stopPropagation(),i=t;let s=r.target;console.log(s),y(s)}),k.add(e)}let G=1e3;function te(t,e,r,s){let o={x1:t.x,y1:t.y,z1:t.z};new g.Tween(o).to({x1:r.x,y1:r.y,z1:r.z},G).onUpdate(function(){a.position.x=o.x1,a.position.y=o.y1,a.position.z=o.z1}).easing(g.Easing.Cubic.InOut).start().onComplete(function(){});let n={x1:e.x,y1:e.y,z1:e.z};new g.Tween(n).to({x1:s.x,y1:s.y,z1:s.z},G).onUpdate(function(){a.rotation.x=n.x1,a.rotation.y=n.y1,a.rotation.z=n.z1}).easing(g.Easing.Cubic.InOut).start().onComplete(function(){})}document.addEventListener("onmousewheel ",T);window.onmousewheel=document.onmousewheel=T;let x=!1;function T(t){if(t=t||window.event,t.wheelDelta){if(t.wheelDelta>0&&!x){x=!0;let e=setInterval(()=>{i>-1&&(i--,i<0&&(i=l.length-1),y(l[i])),x=!1,clearInterval(e)},300)}if(t.wheelDelta<0&&!x){x=!0;let e=setInterval(()=>{i++,i>l.length-1&&(i=0),y(l[i]),x=!1,clearInterval(e)},300)}}}let E=null,b=null,h=null;document.addEventListener("mousedown",W);function W(t){E=t.pageX}document.addEventListener("mousemove",N);function N(t){if(E&&(b=t.pageX),b){var e=(b-E)*.01;h=e}}document.addEventListener("mouseup",H);function H(t){console.log("up"),b=null,E=null,h=null,y(l[i])}document.addEventListener("touchstart",W);document.addEventListener("touchmove",N);document.addEventListener("touchend",H);function V(){if(requestAnimationFrame(V),g.update(),h){let e=l[i];var t=e.rotation.y;console.log(a.rotation),a.rotation.y=t+h,a.position.x=Math.sin(t+h).toFixed(2)*4+e.position.x,a.position.z=Math.cos(t+h).toFixed(2)*4+e.position.z}k.update(),m.render(w,a)}document.getElementById("btnBack").onclick=function(){i--,i<0&&(i=l.length-1),y(l[i])};document.getElementById("btnNext").onclick=function(){i++,i>l.length-1&&(i=0),y(l[i])};V();y(l[0]);i=0;
