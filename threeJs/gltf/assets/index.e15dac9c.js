import{S as e,P as n,W as o,G as t,a as i,T as s,V as r}from"./vendor.9ec0161c.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&n(e)})).observe(document,{childList:!0,subtree:!0})}function n(e){if(e.ep)return;e.ep=!0;const n=function(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?n.credentials="include":"anonymous"===e.crossorigin?n.credentials="omit":n.credentials="same-origin",n}(e);fetch(e.href,n)}}();const l=new e,c=new n(60,window.innerWidth/window.innerHeight,.1,1e3),a=new o({canvas:document.getElementById("bg"),alpha:!0});a.setPixelRatio(window.devicePixelRatio),a.setSize(window.innerWidth,window.innerHeight),c.position.set(0,0,15),c.rotation.set(0,0,0),a.render(l,c);var d;(new t).load("./trx40/scene.gltf",(function(e){d=e.scene,l.add(d),d.position.x=-.5,d.position.y=.5,e.animations,e.scene,e.scenes,e.cameras,e.asset}),(function(e){console.log(e.loaded/e.total*100+"% loaded")}),(function(e){console.log("An error happened")}));const w=new i(16777215,1);w.position.set(-5,3,3),l.add(w),w.intensity=4;const p=new i(16777215,1);p.position.set(3,-4,5),l.add(p),p.intensity=4;const f=new i(16777215,1);f.position.set(0,5,5),l.add(f),f.intensity=4;const u=new i(16777215,1);u.position.set(3,-.5,5),l.add(u),u.intensity=3;const y=new i(16777215,1);y.position.set(-3,-.5,5),l.add(y),y.intensity=3;let m=!1;window.addEventListener("scroll",(function(e){var n=document.querySelectorAll("section")[0].clientHeight;if(window.scrollY>5*n-n/2){if(!m){m=!0;var o=new r(-4,.9,0),t=new r(0,-1.57,0);z(c.position,c.rotation,o,t)}}else if(window.scrollY>4*n-n/2){if(!m){m=!0;o=new r(-.8,-1.6,1.6),t=new r(0,0,0);z(c.position,c.rotation,o,t)}}else if(window.scrollY>3*n-n/2){if(!m){m=!0;o=new r(1.1,-1.6,1.6),t=new r(0,0,0);z(c.position,c.rotation,o,t)}}else if(window.scrollY>2*n-n/2){if(!m){m=!0;o=new r(0,0,3.5),t=new r(0,0,0);z(c.position,c.rotation,o,t)}}else if(window.scrollY>1*n-n/2){if(!m){m=!0;o=new r(0,.5,1.2),t=new r(0,0,-1.57);z(c.position,c.rotation,o,t)}}else if(window.scrollY<n/2&&!m){m=!0;o=new r(0,0,15),t=new r(0,0,0);z(c.position,c.rotation,o,t)}}));let g=!1,x=!1;function z(e,n,o,t){g=!0,x=!0;let i={x1:e.x,y1:e.y,z1:e.z};new s.Tween(i).to({x1:o.x,y1:o.y,z1:o.z},1e3).onUpdate((function(){console.log("onUpdate"),c.position.x=i.x1,c.position.y=i.y1,c.position.z=i.z1})).easing(s.Easing.Cubic.InOut).start().onComplete((function(){console.log("onComplete"),g=!1}));let r={x1:n.x,y1:n.y,z1:n.z};new s.Tween(r).to({x1:t.x,y1:t.y,z1:t.z},1e3).onUpdate((function(){console.log("onUpdate"),c.rotation.x=r.x1,c.rotation.y=r.y1,c.rotation.z=r.z1})).easing(s.Easing.Cubic.InOut).start().onComplete((function(){console.log("onComplete"),x=!1}))}!function e(){requestAnimationFrame(e),m&&(s.update(),0==g&&0==x&&(m=!1)),a.render(l,c)}();
